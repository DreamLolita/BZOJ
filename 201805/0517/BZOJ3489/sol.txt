KDT的正确姿势，在传统数据结构题中的妙用。
我们记录每一个点为一个三元组(x,pre,nex)表示当前点位置在x，前一个和它相同的数位置在pre，后一个在nex。
那么对于每个询问我们要找的就是l<=x<=r,pre<l,r<nex的最大值，就可以直接套用KD树了，注意要加上一些剪枝。