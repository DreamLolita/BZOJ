~~其实做法对于我来说还是有点神奇qwq。~~
将差值看成边权，并添加 0 边来消除负数，首先可以贪心将每个点都买到剩一个。 
那么若是树或者自环，则答案为每个点的入边中权值的最大值。 
对于环（自环除外）来说，必须要删掉环上一条边，枚举每条边删除即可。 