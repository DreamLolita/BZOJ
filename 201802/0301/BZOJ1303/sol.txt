将大于中位数的值设为1，小于的设为-1，等于的设为0，则可以制造一个前缀和数组――在数组中只要某两个位置中值相等，则说明存在一段和为0的段，只需要排个序统计下即可。