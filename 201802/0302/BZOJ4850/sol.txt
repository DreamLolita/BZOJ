发现$\sqrt {|i-j|}$的值只有$\sqrt n$种，
将原式移项后发现对答案可能有贡献的只有每个$\sqrt {|i-j|}$下的最大的$h_j$。
因此我们分块后用rmq处理即可。