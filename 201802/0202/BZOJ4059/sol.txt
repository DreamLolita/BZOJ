一眼看到是暴力，不过想着复杂度好像不太对。敲了一发过了qwq。
预处理出每个元素左边和右边最近的相同元素的位置。
考虑一段序列[l,r],假如我们找到了序列中唯一元素的位置p 那我们只需检查[l,p-1]和[p+1,r]是否non-boring即可
注意，检查一段序列时我们应该从两头往中间找，可以证明复杂度是$O(nlogn)$的，详细看这里。

http://whx991201.is-programmer.com/posts/190036.html