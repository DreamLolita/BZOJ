由于可以$O(n^2)$搞，很容易想到枚举中间点（树根），然后用树形DP搞一搞
发现三个妹子一定在根的三个不同儿子的子树中，所以我们可以遍历根的每个儿子，设$s[i]$表示其中一个儿子的子树中，深度为i的点有多少个，然后设f[i][j]表示在j个不同儿子的子树中，各选出一个深度为i的点的方案数，可以得到$f[i][j]+=f[i][j-1]*s[i]$
这题比较简单，Claris在4543将$n$的范围增大到了10w，见下。