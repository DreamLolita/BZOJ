将题目的条件转化后我们可以得到：$\forall k\in[L,R],sum[L-1]\leq sum[k]\leq sum[R]$
处理出$L[i]$表示i左侧第一个大于$sum[i]$的的位置），$R[i]$类似。
然后问题就转化为$Maximize R-L+1 $同时$L[R]\leq L,R\leq R[L]$$
对$R[j]$从小到大排序，依次把$i\leq R[j]$的i加入候选部分，然后再用BIT维护剩下的$L$数组，就可以解决了，复杂度$O(nlogn)$。
上面对于$L,R$数组的处理复杂度为$O(nlogn)$，但是由于本题特殊的性质：前缀和连续变化，因此直接记录上一个值的位置就可以了，可以做到$O(n)$。