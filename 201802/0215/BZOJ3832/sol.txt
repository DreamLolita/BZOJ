首先当然是建超级源超级汇。
因为这是一个DAG，所以我们就跑一下dp，算出源点到所有点的最长路（记作$f$）以及所有点到汇的最长路（记作$g$）。
令边$x->y$的权值为$f[x]+g[y]$，那么图的最长链转化为边权最大值。
接下来我们要做的就是枚举删哪个点，然后用数据结构维护一下删点后割集中最大边权。

考虑DAG的特性，我们还是可以用一下拓扑排序，发现按拓扑序进行删点就行了。
令初始$S$集只有$S$，所有点和$T$都在$T$集
按照拓扑序依次将每个点从$T$集中删掉，加入$S$集
首先将这个点的所有入边从数据结构中删掉 此时割集的边权最大值就是删掉这个点的答案。
然后再将这个点的所有出边加入数据结构中即可。
这个插入、删除、查询，用堆就行了，当然看到有人写线段树也是可以的qwq。

这道题挺不错的qwq，然后我因为memset的数组空间开成了4倍，所以...TLE了两发。


