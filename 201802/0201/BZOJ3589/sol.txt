支持子树修改和链的并的查询，树链剖分。
对于查询考虑虚树或容斥原理即可。因为是对2^31取模，可以自然溢出。