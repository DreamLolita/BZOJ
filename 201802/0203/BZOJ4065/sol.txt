如果当前节点与2个叶子相连，则要上来通过这个点再下去，同时删掉它和父亲的边。
如果与1个叶子相连，那它是途经的点，贡献照常给父亲，继续向上走即可。
如果与0个或超过2个叶子相连，那就真的无解了。
按照这样处理后可以保证一颗树里不包含不合法的边，但是这是两颗树合在一起，检查合法还需做一遍dfs，看剩下的边是否组成一个环。