首先显然这是一个拓扑图，我们只需要标号dp就行了。
难点在于字符串处理，建一棵Trie来做，在dp的边界时暴力处理。
字符串处理看着std打WA了无数发（还是用虚拟机来测试的）

后来发现想多了，我们可以贪心算出每个字符串从P的第i位开始匹配最远不能到达的下一个位置是谁，
如果这个字符串是两个字符串拼接而成，那么就是从左边串匹配完的位置继续在右边匹配得到的位置，记忆化搜索即可。
这个匹配直接Hash就行了。