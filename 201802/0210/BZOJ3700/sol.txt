因为顾客是$10^3$级别，完全可以枚举两个顾客。
那么剩下的问题就是在很短的时间内判断两个顾客是否会相遇。
然后其实就是一个路径求交，分情况讨论即可。LCA最好用树剖或者欧拉序$O(1)$去求。
~~表示19s卡过去了qwq~~

