树上路径问题多半是点分治，这句话还是用得上。
对于每次分治我们求出每个点路径上的数的线性基。
至于询问的异或max这东西就用暴力合并两个线性基就行。
当然最近点分写太多，于是选择用倍增LCA来合并。