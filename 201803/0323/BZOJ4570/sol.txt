对于一种环境我们可以只拿一个实数$k$替换掉二元组$(a,b)$，那么第$i$只怪兽的权值就为$A_i + B_i + k * A_i + \frac{1}{k} * B_i$，这可以转化成在一个二维平面内的一个点$(A_i,B_i)$以及一条经过这个点并且斜率为$k$的直线在$x$轴和$y$轴的截距和。
那么显然如果一个点$j$，如果存在一个点$i$，其$A_j<A_i$且$B_j<B_i$，这个点肯定是没用的。也就是说在中个二维平面中就只有上凸壳中的点是有用的。
当$k$值不同时，凸壳上的其中一个点对应的妖怪的权值会取到最大值。并且对于每个点，都有一个取到最大值的范围，上下界就是凸壳上与这个点连接的两条边的斜率。对于每个点都对应了一个双钩函数，那么我们可以用均值不等式$x + y >= 2 * \sqrt{x * y}$，再根据$k$值可以取到的范围，讨论出这个双钩函数在当前值域的最小值，以满足题目给定的最大值最小这个要求，最后，对于所有的点取一个最小值就是答案了。