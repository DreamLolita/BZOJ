我们可以二分答案，这样就可以限制每个点可以到的地方。
然后其实是可以用最短路类似的方法来判定，然而dfs一遍就行了。