把所有串接起来，相邻两串之间用不同大数隔开，做后缀数组。显然如果长度$k$能有公共子串，那么$<=k$肯定也可以。
于是二分$k$，把所有连续的heigh值$>=k$的一段拎出来，看这一段是否包含了$1~n$的一些子串。有的话意味着存在这样的$n$个子串，否则不存在。