设f[i][j]表示将区间[i,j]全部消完的最大收益，dp[i]表示考虑前i个位置的最大收益，那么dp[i]=max(dp[i-1],dp[j-1]+f[j][i](1<=j<=i))。
对于f的计算，设g[i][j][k]表示考虑区间[i,j]，最后一次要删去的串在字典树上位于k点的最大收益，要么枚举一个区间消掉，要么在字典树上往下走，要么消去k代表的字符串。
时间复杂度O(n^4c)，但常数很小，且无用状态很多，远远达不到上界。