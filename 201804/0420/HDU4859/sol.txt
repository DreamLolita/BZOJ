这题题目求的最长周长，可以试想一下，这里的海岸线一定是在“.”和“D”之间的，也就是说求最多的相邻的“.”和“D”的配对对数。可以先转化成最小割求最小配对对数，因为总对数是一定的，只需要减去就行。

要先对周围填充上一圈的“D”，然后变成了一个(n+2)*(m+2)的矩形。因为要求的都是相邻的匹配数，所以可以利用黑白染色转化成一个二分图模型，对于每对相邻的进行加边。二分图已经分成了X集和Y集两个子集合，假设要把所有的“.”都要分到X集,所有的"D"都要分到Y集(仅仅是假设),这时候分两种情况讨论:

1:若当前点在地图上是 . 但是却被分到了Y集，或者当前点是 D ，却被分到了X集，就和源点连一条INF的边。

2:若当前点在地图上是 . 并且被分到了X集，或者当前点是 D ，被分到了Y集，就和汇点连一条INF的边。

分析一下就知道，只有 . --> . 或者 D --> D ，也就是类型相同的，才能从源流向汇。

源连接的点是“分错了”的点（ X集的D或者Y集的. ），汇连接的点是“分对了”的点（X集的.或者Y集的D），所以如果要从源流到汇，则一定是D->D或者.->.，也就是相同类型的，求出最小割就是最小化相同的。

最后用总对数减去这个就是答案.