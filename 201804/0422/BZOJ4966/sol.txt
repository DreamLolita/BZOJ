线段树维护每个点的最有可能是答案的数以及它的权重。
合并两个节点的时候，将权重互相抵消，保留较大的那一个。
得到答案后，再在对应权值的平衡树中查询出现次数，检查是否真正是答案。