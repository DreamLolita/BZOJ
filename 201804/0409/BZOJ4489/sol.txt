对于第一问，我们实际上维护的就是一个双关键字最短路，用(cost,time)来表示即可，下站(0,0)，上站(1,0)，坐车(1,0)。
对于第二问，我们将所有dis[v]==dis[u]+cost(u,v)的边保留，一定是一个DAG，在DAG上求最长链即可。