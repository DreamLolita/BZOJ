假设当前在点(i,j)，下一步从这个点走到它某一个相邻的点的概率即为$1-p_i\over d_i$
设两个人分别走到i,j的概率为f(i,j)，那么 
$$f(i,j)=f(i,j)p_ip_j+\sum\limits_{(i,x),(j,y)\in E}f(x,j)p_jgo_x+f(i,y)p_igo_y+f(x,y)go_xgo_y$$
特殊地，f(a,b)的初值为1
这样得出了n*n个方程，高斯消元即可
需要注意的是，方程中等式右边在同一个f里的两个点不能相等，因为一旦相等就已经结束，不会再有走到这个点的概率