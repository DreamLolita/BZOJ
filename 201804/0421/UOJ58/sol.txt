树上莫队经典题。
注意排序的时候要同时将时间作为关键字进行排序，不然会T得飞起。然后就是分块大小请N^0.6，不然还是很有可能T飞。
我们考虑转移情况：
1.同一组（l所在块相同且r所在块也相同的操作为一组）中t的转移，由于同一块中t是升序排列的，因此每一组中t的转移是O(N)的。组数为m^2，因此总时间O(Nm^2)；
2.同一组中l和r的转移。在同一组中l和r的范围都不超过N/m，因此每一次转移都是O(N/m)的。总共有N次转移，因此是O(N^2/m)；
3.一组转移到另一组。每次最多O(N)，而组数只有m^2，因此最多转移O(m^2)次，总时间复杂度O(Nm^2)。
把三个合起来，可以看到带修莫队的时间复杂度为O(N(N/m+m^2))，当m=N^(1/3)时，有最小的时间复杂度O(N^(5/3))，这也是带修莫队的时间复杂度。